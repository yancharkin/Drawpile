diff -ru kdnssd-5.54.0.orig/cmake/FindDNSSD.cmake kdnssd-5.54.0/cmake/FindDNSSD.cmake
--- kdnssd-5.54.0.orig/cmake/FindDNSSD.cmake	2019-01-20 17:23:54.407549801 +0000
+++ kdnssd-5.54.0/cmake/FindDNSSD.cmake	2019-01-20 17:26:15.030368312 +0000
@@ -45,18 +45,17 @@
   if (APPLE)
     set(DNSSD_LIBRARIES "/usr/lib/libSystem.dylib")
   else (APPLE)
-    FIND_LIBRARY(DNSSD_LIBRARIES NAMES dns_sd )
+    FIND_LIBRARY(DNSSD_LIBRARIES NAMES dnssd_shim )
   endif (APPLE)
 
   cmake_push_check_state()
   set(CMAKE_REQUIRED_INCLUDES ${DNSSD_INCLUDE_DIR})
   set(CMAKE_REQUIRED_LIBRARIES ${DNSSD_LIBRARIES})
-  CHECK_FUNCTION_EXISTS(DNSServiceRefDeallocate DNSSD_FUNCTION_FOUND)
   cmake_pop_check_state()
 
-  if (DNSSD_INCLUDE_DIR AND DNSSD_LIBRARIES AND DNSSD_FUNCTION_FOUND)
+  if (DNSSD_INCLUDE_DIR AND DNSSD_LIBRARIES)
      set(DNSSD_FOUND TRUE)
-  endif (DNSSD_INCLUDE_DIR AND DNSSD_LIBRARIES AND DNSSD_FUNCTION_FOUND)
+  endif (DNSSD_INCLUDE_DIR AND DNSSD_LIBRARIES)
 endif (DNSSD_INCLUDE_DIR)
 
 if (DNSSD_FOUND)
